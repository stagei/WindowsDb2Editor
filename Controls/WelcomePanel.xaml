<UserControl x:Class="WindowsDb2Editor.Controls.WelcomePanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019"
             Background="{DynamicResource SystemControlBackgroundAltHighBrush}">
    <Grid>
        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Width="600">
            <!-- Welcome Header -->
            <TextBlock Text="DbExplorer" 
                       FontSize="32" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,10"/>
            
            <TextBlock Text="Professional Database Manager" 
                       FontSize="16" 
                       Foreground="Gray" 
                       HorizontalAlignment="Center" 
                       Margin="0,0,0,40"/>
            
            <!-- Quick Actions -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,40">
                <Button Content="âž• New Connection" 
                        Click="NewConnection_Click"
                        Padding="20,12" 
                        FontSize="16"
                        Margin="0,0,10,0"
                        MinWidth="200"/>
                
                <Button Content="ðŸ“‹ Manage Connections" 
                        Click="ManageConnections_Click"
                        Padding="20,12" 
                        FontSize="16"
                        MinWidth="200"/>
            </StackPanel>
            
            <!-- Recent Connections -->
            <Border BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}" 
                    BorderThickness="1" 
                    CornerRadius="4"
                    Padding="20"
                    Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}">
                
                <StackPanel>
                    <TextBlock Text="Recent Connections" 
                               FontSize="18" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,15"/>
                    
                    <ListView x:Name="RecentConnectionsList" 
                              SelectionMode="Single"
                              MouseDoubleClick="RecentConnection_DoubleClick"
                              ContextMenuOpening="RecentConnection_ContextMenuOpening"
                              MaxHeight="400">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="40"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Icon -->
                                    <TextBlock Grid.Column="0" 
                                               Text="ðŸ—„ï¸" 
                                               FontSize="24" 
                                               VerticalAlignment="Center"/>
                                    
                                    <!-- Connection Info -->
                                    <StackPanel Grid.Column="1" Margin="10,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="{Binding ProfileName}" 
                                                       FontWeight="SemiBold" 
                                                       FontSize="14"/>
                                            <Border Background="{DynamicResource SystemAccentColorLight2Brush}" 
                                                    CornerRadius="3" 
                                                    Padding="6,2" 
                                                    Margin="8,0,0,0"
                                                    VerticalAlignment="Center">
                                                <TextBlock Text="{Binding ProviderName}" 
                                                           FontSize="10" 
                                                           FontWeight="SemiBold"
                                                           Foreground="White"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBlock FontSize="12" 
                                                   Foreground="Gray">
                                            <Run Text="Last used:"/>
                                            <Run Text="{Binding LastUsedRelative}"/>
                                        </TextBlock>
                                        <TextBlock Text="{Binding LastUsedDisplay}" 
                                                   FontSize="11" 
                                                   Foreground="Gray"/>
                                    </StackPanel>
                                    
                                    <!-- Use Count -->
                                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                        <TextBlock Text="{Binding UseCount}" 
                                                   FontSize="18" 
                                                   FontWeight="Bold" 
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock Text="uses" 
                                                   FontSize="10" 
                                                   Foreground="Gray" 
                                                   HorizontalAlignment="Center"/>
                                    </StackPanel>
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                        
                        <!-- Context Menu -->
                        <ListView.ContextMenu>
                            <ContextMenu x:Name="ConnectionContextMenu">
                                <MenuItem Header="ðŸ”— Connect" Click="ContextConnect_Click"/>
                                <MenuItem Header="âœï¸ Edit" Click="ContextEdit_Click"/>
                                <MenuItem Header="ðŸ“‹ Duplicate" Click="ContextCopy_Click"/>
                                <MenuItem Header="ðŸ§ª Test Connection" Click="ContextTest_Click"/>
                                <Separator/>
                                <MenuItem Header="ðŸ—‘ï¸ Remove from History" Click="ContextRemoveHistory_Click"/>
                                <MenuItem Header="ðŸ—‘ï¸ Delete Connection" Click="ContextDelete_Click" Foreground="Red"/>
                            </ContextMenu>
                        </ListView.ContextMenu>
                    </ListView>
                    
                    <TextBlock x:Name="NoConnectionsText" 
                               Text="No recent connections. Create a new connection to get started." 
                               Foreground="Gray" 
                               FontStyle="Italic" 
                               Margin="0,10,0,0"
                               Visibility="Collapsed"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
            
            <!-- Version Info -->
            <TextBlock Text="Version 1.0 - .NET 10" 
                       FontSize="11" 
                       Foreground="Gray" 
                       HorizontalAlignment="Center" 
                       Margin="0,20,0,0"/>
        </StackPanel>
    </Grid>
</UserControl>

