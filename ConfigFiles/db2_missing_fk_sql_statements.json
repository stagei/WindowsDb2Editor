{
  "statements": {
    "GetTableColumnsForMissingFK": {
      "sql": "SELECT TRIM(COLNAME) AS COLUMN_NAME, TRIM(TYPENAME) AS DATA_TYPE, LENGTH, SCALE, CASE WHEN NULLS = 'Y' THEN 'YES' ELSE 'NO' END AS IS_NULLABLE FROM SYSCAT.COLUMNS WHERE TABSCHEMA = ? AND TABNAME = ? ORDER BY COLNO",
      "description": "Get columns for missing FK analysis using DB2 SYSCAT.COLUMNS. Returns column name, data type, length, scale, and nullability.",
      "parameters": ["TABSCHEMA", "TABNAME"]
    },
    "GetTablePrimaryKey": {
      "sql": "SELECT TRIM(COLNAME) AS COLUMN_NAME FROM SYSCAT.KEYCOLUSE WHERE TABSCHEMA = ? AND TABNAME = ? AND CONSTNAME IN (SELECT CONSTNAME FROM SYSCAT.TABCONST WHERE TABSCHEMA = ? AND TABNAME = ? AND TYPE = 'P') ORDER BY COLSEQ",
      "description": "Get primary key columns using DB2 SYSCAT.KEYCOLUSE. Returns column names that are part of the primary key constraint.",
      "parameters": ["TABSCHEMA", "TABNAME", "TABSCHEMA", "TABNAME"]
    },
    "GetTableUniqueKeys": {
      "sql": "SELECT TRIM(CONSTNAME) AS CONSTRAINT_NAME, TRIM(COLNAME) AS COLUMN_NAME FROM SYSCAT.KEYCOLUSE WHERE TABSCHEMA = ? AND TABNAME = ? AND CONSTNAME IN (SELECT CONSTNAME FROM SYSCAT.TABCONST WHERE TABSCHEMA = ? AND TABNAME = ? AND TYPE = 'U') ORDER BY CONSTNAME, COLSEQ",
      "description": "Get unique key constraints using DB2 SYSCAT.KEYCOLUSE. Returns constraint name and column names for each unique constraint.",
      "parameters": ["TABSCHEMA", "TABNAME", "TABSCHEMA", "TABNAME"]
    },
    "GetTableForeignKeys": {
      "sql": "SELECT TRIM(R.CONSTNAME) AS CONSTRAINT_NAME, TRIM(K.COLNAME) AS COLUMN_NAME, TRIM(R.REFTABSCHEMA) AS REF_SCHEMA, TRIM(R.REFTABNAME) AS REF_TABLE, TRIM(RK.COLNAME) AS REF_COLUMN FROM SYSCAT.REFERENCES R JOIN SYSCAT.KEYCOLUSE K ON R.CONSTNAME = K.CONSTNAME AND R.TABSCHEMA = K.TABSCHEMA AND R.TABNAME = K.TABNAME JOIN SYSCAT.KEYCOLUSE RK ON R.REFKEYNAME = RK.CONSTNAME AND R.REFTABSCHEMA = RK.TABSCHEMA AND R.REFTABNAME = RK.TABNAME AND K.COLSEQ = RK.COLSEQ WHERE R.TABSCHEMA = ? AND R.TABNAME = ? ORDER BY R.CONSTNAME, K.COLSEQ",
      "description": "Get foreign key constraints using DB2 SYSCAT.REFERENCES and SYSCAT.KEYCOLUSE. Returns constraint name, column names, and referenced table/column information.",
      "parameters": ["TABSCHEMA", "TABNAME"]
    },
    "GetTableRowCount": {
      "sql": "SELECT COUNT(*) AS ROW_COUNT FROM {SCHEMA}.{TABLE}",
      "description": "Get row count for table. Schema and table names are inserted at runtime (not parameterized due to identifier requirements).",
      "parameters": ["SCHEMA", "TABLE"],
      "note": "This query uses {SCHEMA} and {TABLE} placeholders that must be replaced with actual identifiers at runtime."
    },
    "GetTableDataForExport": {
      "sql": "SELECT * FROM {SCHEMA}.{TABLE}",
      "description": "Get all data from table for CSV export. Schema and table names are inserted at runtime.",
      "parameters": ["SCHEMA", "TABLE"],
      "note": "This query uses {SCHEMA} and {TABLE} placeholders that must be replaced with actual identifiers at runtime."
    }
  }
}
